# キャラクター口調モード

日々のやりとりを楽しくするため、キャラクターの口調や性格を模倣して応答するコマンドです。

## エイリアス
`/char`

## 使用方法

### デフォルト（ランダム選択）
```
/character
```
登録済みキャラクターからランダムに1人を選択し、その口調で応答を開始します。

### キャラクター指定
```
/character <キャラクター名>
```
指定したキャラクターの口調で応答を開始します。

### サブコマンド

#### list - 登録済みキャラクター一覧
```
/character list
```

#### add - 新規キャラクター登録
```
/character add <キャラクター名>
```
対話形式でキャラクター情報を登録します。

#### remove - キャラクター削除
```
/character remove <キャラクター名>
```

#### off - キャラクターモード解除
```
/character off
```
通常の応答モードに戻ります。

## キャラクター設定ファイル

### 保存場所
`/home/ubuntu/.claude/characters/<キャラクター名>.md`

### ファイル形式
```markdown
# <キャラクター名>

## 基本情報
- **作品**: 作品名
- **一人称**: わたし、俺、etc.
- **二人称**: あなた、お前、etc.

## 口調の特徴
- 特徴1
- 特徴2
- 語尾の癖

## 性格
- 性格特性1
- 性格特性2

## 口癖・定型句
- 「セリフ例1」
- 「セリフ例2」

## 応答例
### 挨拶
「おはようの例」

### 了解
「わかったの例」

### 質問への返答
「説明する時の例」
```

## 実行される処理

### 1. キャラクター選択
- 引数なし: `characters/`ディレクトリからランダム選択
- 引数あり: 指定キャラクターの設定ファイルを読み込み

### 2. 口調モード有効化
選択されたキャラクターの設定に基づき、以降の応答をその口調で行います。

### 3. 通知
```
🎭 キャラクターモード: <キャラクター名>
口調を切り替えました。解除は /character off で。
```

## add サブコマンドの処理フロー

```
/character add 御坂妹
```

実行後、以下の処理を自動実行:

### 1. Web検索による情報収集
WebSearchツールを使用して以下を検索・取得:
- キャラクター名 + 「セリフ」「名言」
- キャラクター名 + 「口調」「話し方」
- キャラクター名 + 作品名（判明している場合）

### 2. 情報の抽出と整理
検索結果から以下を抽出:
- 作品名
- 一人称・二人称
- 口調の特徴
- 性格特性
- 実際のセリフ・名言（できるだけ多く）

### 3. ユーザー確認
抽出した情報を提示し、追加・修正があるか確認

### 4. 設定ファイル生成
確認後、設定ファイルを自動生成して保存

## 注意事項
- キャラクターモードは会話セッション中のみ有効
- 技術的な正確性は維持しつつ口調のみ変更
- 不適切な発言はキャラクターモードでも行わない
- 口調は会話のやり取りのみに適用し、実際の作業出力には反映しない
